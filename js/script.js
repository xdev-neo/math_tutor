const accountId = 61991422001;

const dataList = {
    "remote_url": "https://s3.amazonaws.com/android-app-json/MathTutor.json",
    "uiConfig": {
        "stringsFilename": "Localizable"
    },
    "urlConfig": {
        "share_url": "http://www.mathtutorapp.com",
        "about_url": "http://www.mathtutordvd.com/public/department90.cfm",
        "faq_url": "",
        "privacy_url": "http://www.mathtutordvd.com/public/department12.cfm",
        "terms_url": "http://www.mathtutordvd.com/public/73.cfm",
        "support_url": "",
        "contactus_url": ""
    },
    "sessionConfig": {
        "kBCGSSessionType": "kBCGSSessionTypeVCCache",
        "kVCAPIToken": "l1Ap8pCOIzyoyxsrKTJ-RHrWuBHay2gihRlPAoCOefTCTkoTFTKANw..",
        "kVCSessionCacheIntervalInHours": 60,
        "kBCGSSessionTags": [],
        "kWVAccountID": "61991422001",
        "kWVPolicyKey": "BCpkADawqM3IHJ2eoVWggztYsIJiXJhevAgSWmH0c8xAzYdpOb9K5vgjbpO7tERtTWf69iLCskauOHlXPYy0o_h-CPBgORLV4nzdq0Bpg83ZLApEWLdRJJp45Uo",
        "kBCGSPlaylistJSItems": []
    },
    "landingConfig": [
        "1740354517305597228",
        "1732361960164351310",
        "1732361860371318922",
        "1669872324028865884",
        "1669872215608074942"
    ],
    "heroConfig": [
        "5452603551001",
        "5454138014001",
        "5455903759001",
        "5455901758001",
        "5455801690001",
        "5455901785001",
        "5457947484001",
        "5455801737001",
        "5455901782001",
        "5455903807001"
    ],
    "appConfig": {
        "waitingPage": "Waiting",
        "waitingClass": "MTWaitingViewController"
    },
    "pageConfig": [],
    "cellConfig": [],
    "menu_config": {
        "items": [
            {
                "name": "Math by Grade Level",
                "playlist": "",
                "children": [
                    {
                        "name": "Basic Math Tutor",
                        "playlist": "5456011842001",
                        "children": []
                    },
                    {
                        "name": "Basic Math Word Problems",
                        "playlist": "5456343809001",
                        "children": []
                    },
                    {
                        "name": "Mental Math - Vol 1",
                        "playlist": "5456011888001",
                        "children": []
                    },
                    {
                        "name": "3rd Grade Math Course",
                        "playlist": "",
                        "children": [
                            {
                                "name": "3rd Grade Math: Unit 1",
                                "playlist": "1669872405447684271",
                                "children": []
                            },
                            {
                                "name": "3rd Grade Math: Unit 2",
                                "playlist": "1669872479469722797",
                                "children": []
                            },
                            {
                                "name": "3rd Grade Math: Unit 3",
                                "playlist": "1669872560183794301",
                                "children": []
                            },
                            {
                                "name": "3rd Grade Math: Unit 4",
                                "playlist": "1669872656822808736",
                                "children": []
                            },
                            {
                                "name": "3rd Grade Math: Unit 5",
                                "playlist": "1672312220302625284",
                                "children": []
                            },
                            {
                                "name": "3rd Grade Math: Unit 6",
                                "playlist": "1672314354783930893",
                                "children": []
                            },
                            {
                                "name": "3rd Grade Math: Unit 7",
                                "playlist": "1672314993379305836",
                                "children": []
                            },
                            {
                                "name": "3rd Grade Math: Unit 8",
                                "playlist": "1672488482206841024",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "4th Grade Math Course",
                        "playlist": "",
                        "children": [
                            {
                                "name": "4th Grade Math: Unit 1",
                                "playlist": "1673649752124644501",
                                "children": []
                            },
                            {
                                "name": "4th Grade Math: Unit 2",
                                "playlist": "1674190233615030910",
                                "children": []
                            },
                            {
                                "name": "4th Grade Math: Unit 3",
                                "playlist": "1674420846372805781",
                                "children": []
                            },
                            {
                                "name": "4th Grade Math: Unit 4",
                                "playlist": "1675391457236573329",
                                "children": []
                            },
                            {
                                "name": "4th Grade Math: Unit 5",
                                "playlist": "1677297764119035305",
                                "children": []
                            },
                            {
                                "name": "4th Grade Math: Unit 6",
                                "playlist": "1681084741043784742",
                                "children": []
                            },
                            {
                                "name": "4th Grade Math: Unit 7",
                                "playlist": "1683169655576775175",
                                "children": []
                            },
                            {
                                "name": "4th Grade Math: Unit 8",
                                "playlist": "1685550864751531536",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "5th Grade Math Course",
                        "playlist": "",
                        "children": [
                            {
                                "name": "5th Grade Math: Unit 1",
                                "playlist": "1687654529214784239",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Unit 2",
                                "playlist": "1688897593371630881",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Unit 3",
                                "playlist": "1690798818832797247",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Unit 4",
                                "playlist": "1695031901265272156",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Unit 5",
                                "playlist": "1695865038234942361",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Unit 6",
                                "playlist": "1697842201220687846",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Unit 7",
                                "playlist": "1699128008102538475",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Unit 8",
                                "playlist": "1700381159581394702",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Unit 9",
                                "playlist": "1700471851377995328",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "5th Grade Math Tutor",
                        "playlist": "",
                        "children": [
                            {
                                "name": "5th Grade Math: Vol 1",
                                "playlist": "5453744376001",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Vol 2",
                                "playlist": "5452603551001",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Vol 3",
                                "playlist": "5453744433001",
                                "children": []
                            },
                            {
                                "name": "5th Grade Math: Vol 4",
                                "playlist": "5454157218001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "6th Grade Math Course",
                        "playlist": "",
                        "children": [
                            {
                                "name": "6th Grade Math: Unit 1",
                                "playlist": "1702014476186708839",
                                "children": []
                            },
                            {
                                "name": "6th Grade Math: Unit 2",
                                "playlist": "1703458353174108914",
                                "children": []
                            },
                            {
                                "name": "6th Grade Math: Unit 3",
                                "playlist": "1704675748493647675",
                                "children": []
                            },
                            {
                                "name": "6th Grade Math: Unit 4",
                                "playlist": "1705177743174397233",
                                "children": []
                            },
                            {
                                "name": "6th Grade Math: Unit 5",
                                "playlist": "1706084708374212682",
                                "children": []
                            },
                            {
                                "name": "6th Grade Math: Unit 6",
                                "playlist": "1707175075873018919",
                                "children": []
                            },
                            {
                                "name": "6th Grade Math: Unit 7",
                                "playlist": "1708367148260158598",
                                "children": []
                            },
                            {
                                "name": "6th Grade Math: Unit 8",
                                "playlist": "1709821185095471910",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "7th Grade Math Course",
                        "playlist": "",
                        "children": [
                            {
                                "name": "7th Grade Math: Unit 1",
                                "playlist": "1710794404884500031",
                                "children": []
                            },
                            {
                                "name": "7th Grade Math: Unit 2",
                                "playlist": "1711612084853099401",
                                "children": []
                            },
                            {
                                "name": "7th Grade Math: Unit 3",
                                "playlist": "1715881368224738691",
                                "children": []
                            },
                            {
                                "name": "7th Grade Math: Unit 4",
                                "playlist": "1716236499791323236",
                                "children": []
                            },
                            {
                                "name": "7th Grade Math: Unit 5",
                                "playlist": "1716870960419654535",
                                "children": []
                            },
                            {
                                "name": "7th Grade Math: Unit 6",
                                "playlist": "1718501514461219790",
                                "children": []
                            },
                            {
                                "name": "7th Grade Math: Unit 7",
                                "playlist": "1718591245184230372",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "8th Grade Math Course",
                        "playlist": "",
                        "children": [
                            {
                                "name": "8th Grade Math: Unit 1",
                                "playlist": "1721132357185776616",
                                "children": []
                            },
                            {
                                "name": "8th Grade Math: Unit 2",
                                "playlist": "1721138723676965775",
                                "children": []
                            },
                            {
                                "name": "8th Grade Math: Unit 3",
                                "playlist": "1721589155063754015",
                                "children": []
                            },
                            {
                                "name": "8th Grade Math: Unit 4",
                                "playlist": "1721674685952769884",
                                "children": []
                            },
                            {
                                "name": "8th Grade Math: Unit 5",
                                "playlist": "1726042651604381609",
                                "children": []
                            },
                            {
                                "name": "8th Grade Math: Unit 6",
                                "playlist": "1731909021229599063",
                                "children": []
                            },
                            {
                                "name": "8th Grade Math: Unit 7",
                                "playlist": "1731909112722952463",
                                "children": []
                            },
                            {
                                "name": "8th Grade Math: Unit 8",
                                "playlist": "1731909236929019738",
                                "children": []
                            },
                            {
                                "name": "8th Grade Math: Unit 9",
                                "playlist": "1731909346832231403",
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "name": "Algebra, Geometry & Trig",
                "playlist": "",
                "children": [
                    {
                        "name": "Pre-Algebra",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Pre-Algebra: Vol 1",
                                "playlist": "5455801736001",
                                "children": []
                            },
                            {
                                "name": "Pre-Algebra: Vol 2",
                                "playlist": "5456011899001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Algebra 1 Tutor",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Algebra 1 Tutor: Vol 1",
                                "playlist": "5454138014001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Tutor: Vol 2",
                                "playlist": "5453744434001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Algebra 1 Course",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Algebra 1 Course: Unit 1",
                                "playlist": "5454617638001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Course: Unit 2",
                                "playlist": "5454028133001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Course: Unit 3",
                                "playlist": "5454138022001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Course: Unit 4",
                                "playlist": "5453744443001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Course: Unit 5",
                                "playlist": "5454617649001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Course: Unit 6",
                                "playlist": "5453744445001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Course: Unit 7",
                                "playlist": "5454138026001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Course: Unit 8",
                                "playlist": "5454138027001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Course: Unit 9",
                                "playlist": "5454028139001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Course: Unit 10",
                                "playlist": "5454143076001",
                                "children": []
                            },
                            {
                                "name": "Algebra 1 Course: Unit 11",
                                "playlist": "5453744435001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Algebra 2 & College Algebra",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Algebra 2 Tutor",
                                "playlist": "5455801663001",
                                "children": []
                            },
                            {
                                "name": "Algebra Word Problems",
                                "playlist": "5454617693001",
                                "children": []
                            },
                            {
                                "name": "Advanced Algebra",
                                "playlist": "5454617637001",
                                "children": []
                            },
                            {
                                "name": "Matrix Algebra",
                                "playlist": "5456282764001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Algebra 2 Course",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Algebra 2 Course: Unit 1",
                                "playlist": "5858980916001",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 2",
                                "playlist": "5981485385001",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 3",
                                "playlist": "5981585795001",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 4",
                                "playlist": "6027453635001",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 5",
                                "playlist": "6027564747001",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 6",
                                "playlist": "6027698357001",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 7",
                                "playlist": "6027787604001",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 8",
                                "playlist": "6038263043001",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 9",
                                "playlist": "6069124014001",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 10",
                                "playlist": "6071937950001",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 11",
                                "playlist": "1656446109326644759",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 12",
                                "playlist": "1661447387860543244",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 13",
                                "playlist": "1661618141664270552",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 14",
                                "playlist": "1661619017827033777",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 15",
                                "playlist": "1669871470233102257",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 16",
                                "playlist": "1669871583365015474",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 17",
                                "playlist": "1669872111868377291",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 18",
                                "playlist": "1669872215608074942",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 19",
                                "playlist": "1669872324028865884",
                                "children": []
                            },
                            {
                                "name": "Algebra 2 Course: Unit 20",
                                "playlist": "1740353123129408857",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Geometry & Trig",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Geometry Tutor",
                                "playlist": "5455903827001",
                                "children": []
                            },
                            {
                                "name": "Trig & Pre-Calculus: Vol 1",
                                "playlist": "5457640677001",
                                "children": []
                            },
                            {
                                "name": "Trig & Pre-Calculus: Vol 2",
                                "playlist": "5456343899001",
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "name": "Calculator Tutorials",
                "playlist": "",
                "children": [
                    {
                        "name": "TI-84 Calculator Tutorial",
                        "playlist": "5456343897001",
                        "children": []
                    },
                    {
                        "name": "TI-89 Calculator - Vol 1",
                        "playlist": "5456343898001",
                        "children": []
                    },
                    {
                        "name": "TI-89 Calculator - Vol 2",
                        "playlist": "5458254423001",
                        "children": []
                    },
                    {
                        "name": "HP50 Calculator Tutor - Vol 1",
                        "playlist": "5460247412001",
                        "children": []
                    }
                ]
            },
            {
                "name": "Calculus & Statistics",
                "playlist": "",
                "children": [
                    {
                        "name": "Calculus 1",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Calculus 1 Limits",
                                "playlist": "5455801682001",
                                "children": []
                            },
                            {
                                "name": "Calculus 1 Tutor",
                                "playlist": "5455801687001",
                                "children": []
                            },
                            {
                                "name": "Calculus 1 Derivatives",
                                "playlist": "5456343810001",
                                "children": []
                            },
                            {
                                "name": "Calculus 1 Integrals: Vol 1",
                                "playlist": "5455901758001",
                                "children": []
                            },
                            {
                                "name": "Calculus 1 Integrals: Vol 2",
                                "playlist": "5455801679001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Calculus 2 & 3",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Calculus 2 Tutor",
                                "playlist": "5455901771001",
                                "children": []
                            },
                            {
                                "name": "Calculus 3 Tutor: Vol 1",
                                "playlist": "5455903798001",
                                "children": []
                            },
                            {
                                "name": "Calculus 3 Tutor: Vol 2",
                                "playlist": "5455801688001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Differential Equations",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Differential Equations: Vol 1",
                                "playlist": "5455901785001",
                                "children": []
                            },
                            {
                                "name": "Differential Equations: Vol 2",
                                "playlist": "5455901786001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Probability & Statistics",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Probability Tutor",
                                "playlist": "5456282773001",
                                "children": []
                            },
                            {
                                "name": "Statistics: Vol 1",
                                "playlist": "5456011901001",
                                "children": []
                            },
                            {
                                "name": "Statistics: Vol 2",
                                "playlist": "5457640673001",
                                "children": []
                            },
                            {
                                "name": "Statistics: Vol 3",
                                "playlist": "5456282774001",
                                "children": []
                            },
                            {
                                "name": "Statistics: Vol 4",
                                "playlist": "5455801737001",
                                "children": []
                            },
                            {
                                "name": "Statistics: Vol 5",
                                "playlist": "5457947486001",
                                "children": []
                            },
                            {
                                "name": "Statistics: Vol 6",
                                "playlist": "5455801738001",
                                "children": []
                            },
                            {
                                "name": "Statistics: Vol 7",
                                "playlist": "5457640675001",
                                "children": []
                            },
                            {
                                "name": "Statistics: Vol 8",
                                "playlist": "5456343896001",
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "name": "Science Experiments",
                "playlist": "",
                "children": [
                    {
                        "name": "Amazing Science: Vol 1",
                        "playlist": "5455903759001",
                        "children": []
                    }
                ]
            },
            {
                "name": "Physics",
                "playlist": "",
                "children": [
                    {
                        "name": "Physics 1 Tutor",
                        "playlist": "5457947484001",
                        "children": []
                    },
                    {
                        "name": "Physics 1 Course (Alg Based)",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Physics 1 Course: Unit 1",
                                "playlist": "5833439631001",
                                "children": []
                            },
                            {
                                "name": "Physics 1 Course: Unit 2",
                                "playlist": "5839792269001",
                                "children": []
                            },
                            {
                                "name": "Physics 1 Course: Unit 3",
                                "playlist": "5853072565001",
                                "children": []
                            },
                            {
                                "name": "Physics 1 Course: Unit 4",
                                "playlist": "1732361860371318922",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Physics 1 Course (Calc Based)",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Physics 1 Course: Unit 1",
                                "playlist": "1740355821033705640",
                                "children": []
                            },
                            {
                                "name": "Physics 1 Course: Unit 2",
                                "playlist": "1740357653960289708",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Physics 2 Tutor: Vol 1",
                        "playlist": "5457947485001",
                        "children": []
                    },
                    {
                        "name": "Physics 2 Tutor: Vol 2",
                        "playlist": "5456011894001",
                        "children": []
                    },
                    {
                        "name": "Physics 3 Tutor: Vol 1",
                        "playlist": "5456011895001",
                        "children": []
                    },
                    {
                        "name": "Physics 3 Tutor: Vol 2",
                        "playlist": "5456011896001",
                        "children": []
                    }
                ]
            },
            {
                "name": "Chemistry",
                "playlist": "",
                "children": [
                    {
                        "name": "Chemistry 1 Course",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Chemistry 1 Course: Unit 1",
                                "playlist": "1732361960164351310",
                                "children": []
                            },
                            {
                                "name": "Chemistry 1 Course: Unit 2",
                                "playlist": "1740354517305597228",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Chemistry 1: Vol 1",
                        "playlist": "5456343817001",
                        "children": []
                    },
                    {
                        "name": "Chemistry 1: Vol 2",
                        "playlist": "5456343819001",
                        "children": []
                    },
                    {
                        "name": "Chemistry 1: Vol 3",
                        "playlist": "5455801690001",
                        "children": []
                    },
                    {
                        "name": "Chemistry 1: Vol 4",
                        "playlist": "5456343821001",
                        "children": []
                    },
                    {
                        "name": "Chemistry 1: Vol 5",
                        "playlist": "5455901772001",
                        "children": []
                    },
                    {
                        "name": "Unit Conversions",
                        "playlist": "5469763208001",
                        "children": []
                    }
                ]
            },
            {
                "name": "Electrical Engineering",
                "playlist": "",
                "children": [
                    {
                        "name": "Engineering DC Circuits",
                        "playlist": "",
                        "children": [
                            {
                                "name": "DC Circuits: Vol 1",
                                "playlist": "5455901781001",
                                "children": []
                            },
                            {
                                "name": "DC Circuits: Vol 2",
                                "playlist": "5455901782001",
                                "children": []
                            },
                            {
                                "name": "DC Circuits: Vol 3",
                                "playlist": "5456011852001",
                                "children": []
                            },
                            {
                                "name": "DC Circuits: Vol 4",
                                "playlist": "5456343826001",
                                "children": []
                            },
                            {
                                "name": "DC Circuits: Vol 5",
                                "playlist": "5455901784001",
                                "children": []
                            },
                            {
                                "name": "DC Circuits: Vol 6",
                                "playlist": "5626711241001",
                                "children": []
                            },
                            {
                                "name": "DC Circuits: Vol 7",
                                "playlist": "5648816780001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Engineering AC Circuits",
                        "playlist": "",
                        "children": [
                            {
                                "name": "AC Circuits: Vol 1",
                                "playlist": "5455801697001",
                                "children": []
                            },
                            {
                                "name": "AC Circuits: Vol 2",
                                "playlist": "5455903806001",
                                "children": []
                            },
                            {
                                "name": "AC Circuits: Vol 3",
                                "playlist": "5455901780001",
                                "children": []
                            },
                            {
                                "name": "AC Circuits: Vol 4",
                                "playlist": "5756101524001",
                                "children": []
                            },
                            {
                                "name": "AC Circuits: Vol 5",
                                "playlist": "5821044166001",
                                "children": []
                            },
                            {
                                "name": "AC Circuits: Vol 6",
                                "playlist": "5821324587001",
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "name": "Mechanical Engineering",
                "playlist": "",
                "children": [
                    {
                        "name": "Engineering Statics: Vol 1",
                        "playlist": "5456343827001",
                        "children": []
                    },
                    {
                        "name": "Engineering Statics: Vol 2",
                        "playlist": "5456343828001",
                        "children": []
                    },
                    {
                        "name": "Engineering Statics: Vol 3",
                        "playlist": "5455903807001",
                        "children": []
                    }
                ]
            },
            {
                "name": "Engineering Math",
                "playlist": "",
                "children": [
                    {
                        "name": "Laplace Transform",
                        "playlist": "5456343885001",
                        "children": []
                    },
                    {
                        "name": "Linear Algebra: Vol 1",
                        "playlist": "5457640659001",
                        "children": []
                    },
                    {
                        "name": "Linear Algebra: Vol 2",
                        "playlist": "5456343886001",
                        "children": []
                    }
                ]
            },
            {
                "name": "Software Tutorials",
                "playlist": "",
                "children": [
                    {
                        "name": "Microsoft Excel & Word",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Excel Tutorial",
                                "playlist": "5457640662001",
                                "children": []
                            },
                            {
                                "name": "Word Tutorial",
                                "playlist": "5457640667001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Matlab Tutorial",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Matlab Tutorial",
                                "playlist": "5456343888001",
                                "children": []
                            }
                        ]
                    },
                    {
                        "name": "Java Programming",
                        "playlist": "",
                        "children": [
                            {
                                "name": "Mastering Java: Vol 1",
                                "playlist": "5456343861001",
                                "children": []
                            },
                            {
                                "name": "Mastering Java: Vol 2",
                                "playlist": "5455801717001",
                                "children": []
                            },
                            {
                                "name": "Mastering Java: Vol 3",
                                "playlist": "5456343864001",
                                "children": []
                            },
                            {
                                "name": "Mastering Java: Vol 4",
                                "playlist": "5455903830001",
                                "children": []
                            }
                        ]
                    }
                ]
            }
        ]
    }
}

// const nav = JSON.parse(document.querySelector('input[type="hidden"][name="nav"]').value)
const nav = dataList.menu_config.items


const addVideoPlayer = () => {

    document.querySelectorAll('.playlist__wrapper__item__header svg').forEach(it => {
        it.addEventListener('click', () => {
            it.parentElement.parentElement
                .innerHTML = `<video controls style="width: 100%;">
        <source src="${it.parentElement.parentElement.nextElementSibling.children[2].children[0].options[0].value}" type="">
      </video>`
        })
    })

}
document.addEventListener('DOMContentLoaded', () => {
    // document.querySelector('input[name="nav"]').value = "JSON.stringify(dataList)"
    setTimeout(() => {
        populate('.list1')
        populate('.list2')
        populate('.list3')
    }, 500);
    // obs1.observe(document.querySelectorAll('select')[1], { attributes: true, childList: true, characterData: true })
    // obs2.observe(document.querySelectorAll('select')[2], { attributes: true, childList: true, characterData: true })
    document.querySelector('.overlay .close').addEventListener('click', () => {
        document.querySelector('.overlay').classList.add('hidden')
        document.body.classList.remove('overflow_hidden')



    })

    // document.querySelector('input[type="hidden"][name="nav"]').value = ""



})
const opts = nav.map((it, i) => {
    return `<option index="${i}" playlist="${it.playlist}">${it.name}</option>`
}).join(' ')

// document.querySelector('main').innerHTML = ''
document.querySelector('.list1').innerHTML = opts
showSublist1('.list1', '.list2')
showSublist2('.list1', '.list2', '.list3')

document.querySelector('.list1').addEventListener('change', () => {
    console.log('list 1 changed')
    showSublist1('.list1', '.list2')
    populate('.list1')
})

document.querySelector('.list2').addEventListener('change', () => {
    console.log('list 2 changed');
    showSublist2('.list1', '.list2', '.list3')
    populate('.list2')
})

document.querySelector('.list3').addEventListener('change', async (e) => {
    console.log('list 3 changed')

    populate('.list3')

})
document.querySelector('.downloadAll').addEventListener('click', () => {
    let links = '';

    document.querySelectorAll('.playlist__wrapper__item__body__bottom__sources').forEach(it => {
        links += '\n ===== \n ' + it.parentElement.previousElementSibling.previousElementSibling.children[0].innerText + '\n ===== \n'
        links += [...it.children].map((item, index) => {
            // if (item.innerText.toLowerCase().includes('container_mp4')) {
            // console.log(item)
            // console.log((item.getAttribute('streaming')) === 'false')
            if (item.getAttribute('streaming') == "false") {
                console.log(item)
                if (item.value.replaceAll(/https\:\/\/|http\:\/\//ig, '') != it.children[index + 1].value.replaceAll(/https\:\/\/|http\:\/\//ig, '')) {
                    return item.value
                } else {
                    return ''
                }

            } else {
                return ''
            }

        }, {}).join(' ')
    })
    document.querySelector('.overlay').classList.remove('hidden')
    document.body.classList.add('overflow_hidden')

    document.querySelector('.links').value = ''
    document.querySelector('.links').value = links
})

async function fetchList(accountId, playlist) {
    var myHeaders = new Headers();
    myHeaders.append("accept", "application/json;pk=BCpkADawqM3IHJ2eoVWggztYsIJiXJhevAgSWmH0c8xAzYdpOb9K5vgjbpO7tERtTWf69iLCskauOHlXPYy0o_h-CPBgORLV4nzdq0Bpg83ZLApEWLdRJJp45Uo");

    var requestOptions = {
        method: 'GET',
        headers: myHeaders,
        redirect: 'follow'
    };

    const res = await fetch(`https://edge.api.brightcove.com/playback/v1/accounts/${accountId}/playlists/${playlist}`, requestOptions)
        .then(response => response.json())
        .then(result => result)
        .catch(error => console.log('error', error));

    return res
}
function showSublist1(selector1, selector2) {
    const index = document.querySelector(`${selector1} [index="${document.querySelector(selector1).selectedIndex}"]`).getAttribute('index')
    const playlist = document.querySelector(`${selector1} [index="${document.querySelector(selector1).selectedIndex}"]`).getAttribute('playlist')

    const opts = nav[index].children.map((it, i) => {
        return `<option index="${i}" playlist="${it.playlist}">${it.name}</option>`
    }).join(' ')

    // // document.querySelector('main').innerHTML = ''
    document.querySelector(selector2).innerHTML = opts
}

function showSublist2(selector1, selector2, selector3) {
    const index1 = document.querySelector(`${selector1} [index="${document.querySelector(selector1).selectedIndex}"]`).getAttribute('index')
    const index2 = document.querySelector(`${selector2} [index="${document.querySelector(selector2).selectedIndex}"]`).getAttribute('index')
    const playlist1 = document.querySelector(`${selector1} [index="${document.querySelector(selector1).selectedIndex}"]`).getAttribute('playlist')
    const playlist2 = document.querySelector(`${selector2} [index="${document.querySelector(selector2).selectedIndex}"]`).getAttribute('playlist')

    const opts = nav[index1].children[index2].children.map((it, i) => {
        return `<option index="${i}" playlist="${it.playlist}">${it.name}</option>`
    }).join(' ')

    // // document.querySelector('main').innerHTML = ''
    document.querySelector(selector3).innerHTML = opts
}

async function populate(selector) {

    const playlist = document.querySelector(`${selector} [index="${document.querySelector(selector).selectedIndex}"]`).getAttribute('playlist')

    let list;
    if (playlist.length != 0) {
        list = await fetchList(accountId, playlist)

        const meta = ['name', 'description']
        const items = [...document.querySelector('.playlist__title').children]
        items.forEach((it, i) => {
            it.innerText = list[meta[i]]
        });

        document.querySelector('.bottomCont').innerHTML = list.videos.length + ' videos'
        const html = list.videos.map((it, i) => {
            const opts = it.sources.map((source, index) => {
                let title = ''
                //  Object.keys(source).map((it, i) => {
                //     if (it != 'src') {
                //         return it + '_' + source[it]
                //     } else {
                //         return ''
                //     }
                // }, {}).join(' - ').replaceAll(/ -  - /ig, ' - ')

                if (source['container'] != undefined) {
                    title = source['container'] + ' ' + source['width'] + 'X' + source['height']
                    return `<option streaming="false" value="${source.src}">${title}</option>`
                } else {
                    title = source['codecs'] + ' streaming'
                    return `<option streaming="true" value="${source.src}">${title}</option>`
                }

            }, {})//.join('  ')

            let optsHTML = ''

            for (let i = opts.length - 1; i >= 0; i--) {
                // console.log("opts")
                optsHTML += opts[i]
            }

            const convTime = (time) => {
                let fTime = (it.duration) / (1000 * (60))
                let tmp = fTime.toString().split('.')
                let sec = (parseFloat('0.' + tmp[1]) * 60).toFixed(0)
                fTime = `${tmp[0]}:${sec}`
                return fTime
            }
            let card = `<div class="playlist__wrapper">
                                    <div class="playlist__wrapper__item">
                                        <div class="playlist__wrapper__item__header">
                                        <div class="playlist__wrapper__item__header__playBtn">
                                        <?xml version="1.0" standalone="no"?>
                                        <!DOCTYPE svg
                                            PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
                                        <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="1280.000000pt"
                                            height="1130.000000pt" viewBox="0 0 1280.000000 1130.000000"
                                            preserveAspectRatio="xMidYMid meet">
                                            <metadata>
                                                Created by potrace 1.15, written by Peter Selinger 2001-2017
                                            </metadata>
                                            <g transform="translate(0.000000,1130.000000) scale(0.100000,-0.100000)" fill="#000000"
                                                stroke="none">
                                                <path d="M6266 11289 c-200 -27 -402 -141 -536 -301 -38 -46 -432 -718 -1284
            -2194 -3554 -6153 -4323 -7485 -4358 -7554 -61 -121 -81 -211 -81 -375 -1
            -115 3 -154 21 -220 91 -327 350 -567 681 -629 75 -14 614 -16 5691 -16 5077
            0 5616 2 5691 16 331 62 590 302 681 629 18 66 22 105 21 220 0 164 -20 254
            -81 375 -21 41 -756 1317 -1633 2835 -877 1518 -2126 3680 -2775 4804 -817
            1416 -1196 2063 -1234 2109 -112 134 -277 239 -445 283 -93 24 -256 32 -359
            18z" /></g>
                                        </svg>
                                    </div>
                                        <img src="${it.poster}"/></div>
                                        <div class="playlist__wrapper__item__body">
                                            <div class="playlist__wrapper__item__body__top">
                                                <h2 class="playlist__wrapper__item__body__top__title">${it.name}</h2>
                                                <h3 class="playlist__wrapper__item__body__top__title">${convTime(it.duration)}</h3>
                                            </div>
                                            <p class="playlist__wrapper__item__body__description">${it.description}</p>
                                            <div class="playlist__wrapper__item__body__bottom">
                                                <select name="" id="" class="playlist__wrapper__item__body__bottom__sources">
                                                    ${optsHTML}
                                                </select>
                                                <a href="#" class="playlist__wrapper__item__body__bottom__donwload">Download</a>
                                            </div>
        
                                        </div>
                                    </div>
                            </div>`
            return card;
        }, {}).join('  ')
        // console.log(html)
        document.querySelector('.playlist').innerHTML = html
        document.querySelectorAll('.playlist__wrapper__item__body__bottom__donwload').forEach(it => it.addEventListener('click', e => {
            const downBtn = e.target
            const url = downBtn.previousElementSibling.children[downBtn.previousElementSibling.selectedIndex].value
            window.open(url)
        }))

        addVideoPlayer()
    }
}

const obs1 = new MutationObserver(it => {
    // console.log(it[0])
    showSublist2('.list1', '.list2', '.list3')
    console.log('list 2 renewed');
    populate('.list2')
})
obs1.observe(document.querySelectorAll('select')[1], { attributes: true, childList: true, characterData: true })

const obs2 = new MutationObserver(it => {
    // console.log(it[0])
    // showSublist2('.list1','.list2','.list3')
    console.log('list 3 renewed');
    populate('.list3')

})
obs2.observe(document.querySelectorAll('select')[2], { attributes: true, childList: true, characterData: true })
